#! /bin/bash

FIFO=$CMUS_FIFO
getStatus() {
	local status=$(cmus-remote -Q | grep status | head -n 1 | cut -d ' ' -f2-)
	local artist=$(cmus-remote -Q | grep artist | head -n 1 | cut -d ' ' -f3-)
	local album=$(cmus-remote -Q | grep album | head -n 1 | cut -d ' ' -f3-)
	local title=$(cmus-remote -Q | grep title | head -n 1 | cut -d ' ' -f3-)
	local year=$(cmus-remote -Q | grep date | head -n 1 | cut -d ' ' -f3-)

	printf 'CMUS%s:%s:%s:%s:%s\n' "$status" "$artist" "$album" "$title" "$year"
}

. subscribable.sh
